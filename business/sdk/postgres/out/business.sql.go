// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: business.sql

package db

import (
	"context"

	"github.com/google/uuid"
	"github.com/jackc/pgx/v5/pgtype"
)

const DeleteByID = `-- name: DeleteByID :exec
DELETE FROM businesses WHERE businesses.id = $1 AND businesses.org_id = $2
`

type DeleteByIDParams struct {
	ID    uuid.UUID
	OrgID uuid.NullUUID
}

func (q *Queries) DeleteByID(ctx context.Context, arg DeleteByIDParams) error {
	_, err := q.db.Exec(ctx, DeleteByID, arg.ID, arg.OrgID)
	return err
}

const GetBusinessByID = `-- name: GetBusinessByID :one
SELECT id, org_id, legal_name, entity, tax_id, dba, jurisdiction, admin_id, owners, address, website, phone_numbers, email_addresses, documents, created_at, updated_at, registration_number FROM businesses WHERE businesses.id = $1 AND businesses.org_id = $2
`

type GetBusinessByIDParams struct {
	ID    uuid.UUID
	OrgID uuid.NullUUID
}

func (q *Queries) GetBusinessByID(ctx context.Context, arg GetBusinessByIDParams) (Businesses, error) {
	row := q.db.QueryRow(ctx, GetBusinessByID, arg.ID, arg.OrgID)
	var i Businesses
	err := row.Scan(
		&i.ID,
		&i.OrgID,
		&i.LegalName,
		&i.Entity,
		&i.TaxID,
		&i.Dba,
		&i.Jurisdiction,
		&i.AdminID,
		&i.Owners,
		&i.Address,
		&i.Website,
		&i.PhoneNumbers,
		&i.EmailAddresses,
		&i.Documents,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.RegistrationNumber,
	)
	return i, err
}

const InsertBusiness = `-- name: InsertBusiness :exec
INSERT INTO businesses (
    id,
    legal_name,
    registration_number,
    org_id,
    tax_id,
    entity,
    jurisdiction,
    dba,
    admin_id,
    owners,
    address,
    website,
    phone_numbers,
    email_addresses,
    created_at,
    updated_at
) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16)
`

type InsertBusinessParams struct {
	ID                 uuid.UUID
	LegalName          string
	RegistrationNumber pgtype.Text
	OrgID              uuid.NullUUID
	TaxID              pgtype.Text
	Entity             Entity
	Jurisdiction       string
	Dba                string
	AdminID            uuid.UUID
	Owners             []byte
	Address            []byte
	Website            pgtype.Text
	PhoneNumbers       []byte
	EmailAddresses     []byte
	CreatedAt          pgtype.Timestamp
	UpdatedAt          pgtype.Timestamp
}

func (q *Queries) InsertBusiness(ctx context.Context, arg InsertBusinessParams) error {
	_, err := q.db.Exec(ctx, InsertBusiness,
		arg.ID,
		arg.LegalName,
		arg.RegistrationNumber,
		arg.OrgID,
		arg.TaxID,
		arg.Entity,
		arg.Jurisdiction,
		arg.Dba,
		arg.AdminID,
		arg.Owners,
		arg.Address,
		arg.Website,
		arg.PhoneNumbers,
		arg.EmailAddresses,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	return err
}

const UpdateBusinessByID = `-- name: UpdateBusinessByID :exec
UPDATE businesses
SET
    legal_name      = $2,
    tax_id          = $3,
    entity          = $4,
    jurisdiction    = $5,
    dba             = $6,
    admin_id        = $7,
    address         = $8,   -- JSONB
    website         = $9,
    phone_numbers   = $10,  -- ARRAY or JSONB
    email_addresses = $11,  -- ARRAY or JSONB
    updated_at = $12,
    registration_number = $13
WHERE id = $1 AND org_id = $14
`

type UpdateBusinessByIDParams struct {
	ID                 uuid.UUID
	LegalName          string
	TaxID              pgtype.Text
	Entity             Entity
	Jurisdiction       string
	Dba                string
	AdminID            uuid.UUID
	Address            []byte
	Website            pgtype.Text
	PhoneNumbers       []byte
	EmailAddresses     []byte
	UpdatedAt          pgtype.Timestamp
	RegistrationNumber pgtype.Text
	OrgID              uuid.NullUUID
}

func (q *Queries) UpdateBusinessByID(ctx context.Context, arg UpdateBusinessByIDParams) error {
	_, err := q.db.Exec(ctx, UpdateBusinessByID,
		arg.ID,
		arg.LegalName,
		arg.TaxID,
		arg.Entity,
		arg.Jurisdiction,
		arg.Dba,
		arg.AdminID,
		arg.Address,
		arg.Website,
		arg.PhoneNumbers,
		arg.EmailAddresses,
		arg.UpdatedAt,
		arg.RegistrationNumber,
		arg.OrgID,
	)
	return err
}
