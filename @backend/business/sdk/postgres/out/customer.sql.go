// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: customer.sql

package db

import (
	"context"

	"github.com/google/uuid"
	"github.com/jackc/pgx/v5/pgtype"
)

const CreateCustomer = `-- name: CreateCustomer :exec
    INSERT INTO customers(id, first_name, last_name, middle_name, date_of_birth, birth_country, city_of_birth, email, phone_number, business_id, creator_id, identifications, addresses, created_at, updated_at)
    VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15)
    RETURNING id, first_name, last_name, middle_name, business_id, creator_id, email, phone_number, city_of_birth, birth_country, date_of_birth, identifications, addresses, created_at, updated_at, deleted_at
`

type CreateCustomerParams struct {
	ID              uuid.UUID
	FirstName       string
	LastName        string
	MiddleName      pgtype.Text
	DateOfBirth     pgtype.Date
	BirthCountry    pgtype.Text
	CityOfBirth     pgtype.Text
	Email           pgtype.Text
	PhoneNumber     pgtype.Text
	BusinessID      uuid.NullUUID
	CreatorID       uuid.NullUUID
	Identifications []byte
	Addresses       []byte
	CreatedAt       pgtype.Timestamp
	UpdatedAt       pgtype.Timestamp
}

func (q *Queries) CreateCustomer(ctx context.Context, arg CreateCustomerParams) error {
	_, err := q.db.Exec(ctx, CreateCustomer,
		arg.ID,
		arg.FirstName,
		arg.LastName,
		arg.MiddleName,
		arg.DateOfBirth,
		arg.BirthCountry,
		arg.CityOfBirth,
		arg.Email,
		arg.PhoneNumber,
		arg.BusinessID,
		arg.CreatorID,
		arg.Identifications,
		arg.Addresses,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	return err
}

const QueryCustomerByAndBusinessID = `-- name: QueryCustomerByAndBusinessID :one
    SELECT id, first_name, last_name, middle_name, business_id, creator_id, email, phone_number, city_of_birth, birth_country, date_of_birth, identifications, addresses, created_at, updated_at, deleted_at FROM customers
    WHERE customers.id = $1
    AND customers.business_id = $2
`

type QueryCustomerByAndBusinessIDParams struct {
	ID         uuid.UUID
	BusinessID uuid.NullUUID
}

func (q *Queries) QueryCustomerByAndBusinessID(ctx context.Context, arg QueryCustomerByAndBusinessIDParams) (Customers, error) {
	row := q.db.QueryRow(ctx, QueryCustomerByAndBusinessID, arg.ID, arg.BusinessID)
	var i Customers
	err := row.Scan(
		&i.ID,
		&i.FirstName,
		&i.LastName,
		&i.MiddleName,
		&i.BusinessID,
		&i.CreatorID,
		&i.Email,
		&i.PhoneNumber,
		&i.CityOfBirth,
		&i.BirthCountry,
		&i.DateOfBirth,
		&i.Identifications,
		&i.Addresses,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.DeletedAt,
	)
	return i, err
}

const QueryCustomerByID = `-- name: QueryCustomerByID :one
    SELECT id, first_name, last_name, middle_name, business_id, creator_id, email, phone_number, city_of_birth, birth_country, date_of_birth, identifications, addresses, created_at, updated_at, deleted_at FROM customers
    WHERE customers.id = $1
`

func (q *Queries) QueryCustomerByID(ctx context.Context, id uuid.UUID) (Customers, error) {
	row := q.db.QueryRow(ctx, QueryCustomerByID, id)
	var i Customers
	err := row.Scan(
		&i.ID,
		&i.FirstName,
		&i.LastName,
		&i.MiddleName,
		&i.BusinessID,
		&i.CreatorID,
		&i.Email,
		&i.PhoneNumber,
		&i.CityOfBirth,
		&i.BirthCountry,
		&i.DateOfBirth,
		&i.Identifications,
		&i.Addresses,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.DeletedAt,
	)
	return i, err
}

const UpdateCustomer = `-- name: UpdateCustomer :exec
    UPDATE customers
    SET first_name = $2,
        last_name = $3,
        middle_name = $4,
        birth_country = $5,
        city_of_birth = $6,
        email = $7,
        phone_number = $8,
        updated_at = $9,
        date_of_birth = $10
    WHERE id = $1
`

type UpdateCustomerParams struct {
	ID           uuid.UUID
	FirstName    string
	LastName     string
	MiddleName   pgtype.Text
	BirthCountry pgtype.Text
	CityOfBirth  pgtype.Text
	Email        pgtype.Text
	PhoneNumber  pgtype.Text
	UpdatedAt    pgtype.Timestamp
	DateOfBirth  pgtype.Date
}

func (q *Queries) UpdateCustomer(ctx context.Context, arg UpdateCustomerParams) error {
	_, err := q.db.Exec(ctx, UpdateCustomer,
		arg.ID,
		arg.FirstName,
		arg.LastName,
		arg.MiddleName,
		arg.BirthCountry,
		arg.CityOfBirth,
		arg.Email,
		arg.PhoneNumber,
		arg.UpdatedAt,
		arg.DateOfBirth,
	)
	return err
}
